{"ast":null,"code":"import _regeneratorRuntime from\"/Users/wojtek/Downloads/todo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/wojtek/Downloads/todo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/wojtek/Downloads/todo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/wojtek/Downloads/todo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/wojtek/Downloads/todo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/wojtek/Downloads/todo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from'react';import Cookies from'universal-cookie';import login from'./img/log.png';import add from'./img/add.png';import'./TaskAdd.sass';var cookies=new Cookies();var TaskAdd=/*#__PURE__*/function(_Component){_inherits(TaskAdd,_Component);var _super=_createSuper(TaskAdd);function TaskAdd(){var _this;_classCallCheck(this,TaskAdd);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.getDate=function(){var time=new Date();var date=time.getFullYear()+'-';if(time.getMonth()<10)date+='0';date+=time.getMonth()+1;date+='-';if(time.getDate()<10)date+='0';date+=time.getDate();return date;};_this.state={title:'',date:_this.getDate(),priority:1,email:'',login:'',pass:'',confPass:''};_this.handleLoginBtn=function(){if(document.querySelector('.login').style.display==='block'){document.querySelector('.login').style.display='none';document.querySelector('.register').style.display='none';document.querySelector('.login-first').style.display='none';document.querySelector('.startpage-mobile').style.display='none';}else{document.querySelector('.login').style.display='block';document.querySelector('.register').style.display='none';document.querySelector('.login-first').style.display='none';document.querySelector('.startpage-mobile').style.display='none';}};_this.handleRegisterBtn=function(){document.querySelector('.login').style.display='none';document.querySelector('.register').style.display='block';document.querySelector('.login-first').style.display='none';document.querySelector('.startpage-mobile').style.display='none';};_this.handleTryBtn=function(){document.querySelector('.startpage-mobile').style.display='none';};_this.handleTitleChange=function(e){_this.setState({title:e.target.value});};_this.handleDateChange=function(e){_this.setState({date:e.target.value});};_this.handlePriorityChange=function(props){document.querySelector('.priorityCircleGrey').style.backgroundColor='rgba(0,0,0,0)';document.querySelector('.priorityCircleBlue').style.backgroundColor='rgba(0,0,0,0)';document.querySelector('.priorityCircleRed').style.backgroundColor='rgba(0,0,0,0)';if(props===1)document.querySelector('.priorityCircleGrey').style.backgroundColor='#8D8D8D';else if(props===2)document.querySelector('.priorityCircleBlue').style.backgroundColor='#4D57FF';else if(props===3)document.querySelector('.priorityCircleRed').style.backgroundColor='#FF5E5A';_this.setState({priority:props});};_this.handleEmailChange=function(e){_this.setState({email:e.target.value});};_this.handleLoginChange=function(e){_this.setState({login:e.target.login});};_this.handlePassChange=function(e){_this.setState({pass:e.target.value});};_this.handlePassRepeatChange=function(e){_this.setState({confPass:e.target.value});};_this.handleSubmit=function(){var data={title:_this.state.title,date:_this.state.date,priority:_this.state.priority,done:false};var txt=document.querySelector('.addErr');txt.innerHTML='';if(data.title<3)txt.innerHTML='Task must have at least 3 letters!';else{var t1=new Date().getTime();var t2=new Date(data.date).getTime();var t3=t2-t1+86400000;if(t3<0)txt.innerHTML='Date cannot be from the past!';else{var tasks=cookies.get('tasks')||[];var taskExist=false;tasks.map(function(task){if(task.title===data.title){txt.innerHTML='Task with such name already exists!';taskExist=true;}});if(taskExist===false){tasks.push(data);cookies.set('tasks',tasks);_this.setState({name:'',date:_this.getDate()});txt.innerHTML='';window.location.reload();}}}};_this.handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var email,pass,errField,errFField,response,answer;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:email=_this.state.email;pass=_this.state.pass;errField=document.querySelector('.logErr');errFField=document.querySelector('.firstLogErr');if(!(email.length<6)){_context.next=9;break;}errField.innerText='Too short email!';errFField.innerText='Too short email!';_context.next=31;break;case 9:if(email.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i)){_context.next=14;break;}errField.innerText='Incorrect email!';errFField.innerText='Incorrect email!';_context.next=31;break;case 14:if(pass.match(/^(?=.*[\\d])(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*])[\\w!@#$%^&*]{8,}$/)){_context.next=19;break;}errField.innerText='Incorrect password';errFField.innerText='Incorrect password';_context.next=31;break;case 19:_this.setState({email:'',pass:''});errField.innerText='';errFField.innerText='';_context.next=24;return fetch('/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:email,pass:pass})});case 24:response=_context.sent;_context.next=27;return response.text();case 27:answer=_context.sent;// answer = JSON.parse(answer)\nerrField.innerText=answer.info;cookies.set('user',answer.user);if(answer.tasks)cookies.set('tasks',answer.tasks);// window.location.reload(false)\ncase 31:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleRegister=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var email,login,pass,confPass,errField,response,answer;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:email=_this.state.email;login=_this.state.login;pass=_this.state.pass;confPass=_this.state.confPass;errField=document.querySelector('.regErr');if(!(email.length<6)){_context2.next=9;break;}errField.innerText='Too short email!';_context2.next=34;break;case 9:if(!(login.length<6)){_context2.next=13;break;}errField.innerText='Too short login!';_context2.next=34;break;case 13:if(!(pass!==confPass)){_context2.next=17;break;}errField.innerText='Passwords are not the same!';_context2.next=34;break;case 17:if(email.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i)){_context2.next=21;break;}errField.innerText='Incorrect email!';_context2.next=34;break;case 21:if(pass.match(/^(?=.*[\\d])(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*])[\\w!@#$%^&*]{8,}$/)){_context2.next=25;break;}errField.innerText='Incorrect password!';_context2.next=34;break;case 25:_this.setState({email:'',login:'',pass:'',confPass:''});errField.innetText='';_context2.next=29;return fetch('/register',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:email,login:login,pass:pass})});case 29:response=_context2.sent;_context2.next=32;return response.text();case 32:answer=_context2.sent;errField.innerText=answer;case 34:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();_this.addTaskMobileForm=function(){var x=window.matchMedia('(max-width: 1023px)');if(x.matches){if(document.querySelector('.newTaskForm').style.display==='block')document.querySelector('.newTaskForm').style.display='none';else document.querySelector('.newTaskForm').style.display='block';}};return _this;}_createClass(TaskAdd,[{key:\"componentDidMount\",value:function componentDidMount(){this.handlePriorityChange(this.state.priority);var x=window.matchMedia('(max-width: 1023px)');if(x.matches){if(cookies.get('start'))document.querySelector('.startpage-mobile').style.display='none';else cookies.set('start',true);}else document.querySelector('.newTaskForm').style.display='block';}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"login-bar\",onClick:this.handleLoginBtn},/*#__PURE__*/React.createElement(\"img\",{className:\"login-img\",src:login,alt:\"login\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"log\"},\"Log in\")),/*#__PURE__*/React.createElement(\"div\",{className:\"taskAddPanel\"},/*#__PURE__*/React.createElement(\"div\",{className:\"userHeader\"},\"Hey!\"),/*#__PURE__*/React.createElement(\"span\",{className:\"newTaskHeader\",onClick:this.addTaskMobileForm},\"Add new task\"),/*#__PURE__*/React.createElement(\"div\",{className:\"newTaskForm\"},/*#__PURE__*/React.createElement(\"input\",{value:this.state.title,onChange:this.handleTitleChange,placeholder:\"title\",type:\"text\"}),/*#__PURE__*/React.createElement(\"input\",{value:this.state.date,onChange:this.handleDateChange,placeholder:\"date\",type:\"date\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"priorityChoose\"},/*#__PURE__*/React.createElement(\"span\",null,\"Priority:\"),/*#__PURE__*/React.createElement(\"span\",{className:\"priorityOption\",onClick:this.handlePriorityChange.bind(this,1)},/*#__PURE__*/React.createElement(\"span\",{className:\"priorityCircleGrey\"}),\"Low\"),/*#__PURE__*/React.createElement(\"span\",{className:\"priorityOption\",onClick:this.handlePriorityChange.bind(this,2)},/*#__PURE__*/React.createElement(\"span\",{className:\"priorityCircleBlue\"}),\"Medium\"),/*#__PURE__*/React.createElement(\"span\",{className:\"priorityOption\",onClick:this.handlePriorityChange.bind(this,3)},/*#__PURE__*/React.createElement(\"span\",{className:\"priorityCircleRed\"}),\"High\")),/*#__PURE__*/React.createElement(\"img\",{className:\"addTask\",onClick:this.handleSubmit,src:add,alt:\"add\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"addErr\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"login\"},/*#__PURE__*/React.createElement(\"span\",{className:\"login-title\"},\"Welcome back.\"),/*#__PURE__*/React.createElement(\"span\",{className:\"login-subtitle\"},\"It is really nice to see you again!\"),/*#__PURE__*/React.createElement(\"input\",{className:\"login-input\",value:this.state.email,onChange:this.handleEmailChange,placeholder:\"email\",type:\"text\"}),/*#__PURE__*/React.createElement(\"input\",{className:\"login-input\",value:this.state.pass,onChange:this.handlePassChange,placeholder:\"password\",type:\"password\"}),/*#__PURE__*/React.createElement(\"button\",{className:\"login-button\",onClick:this.handleLogin},\"Login\"),/*#__PURE__*/React.createElement(\"span\",{className:\"login-create\"},\"Don\\u2019t have an account? \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"strong\",{onClick:this.handleRegisterBtn},\"Create Account\")),/*#__PURE__*/React.createElement(\"span\",{className:\"logErr\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"login-dot\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"register\"},/*#__PURE__*/React.createElement(\"span\",{className:\"login-title\"},\"Join us!\"),/*#__PURE__*/React.createElement(\"span\",{className:\"login-subtitle\"},\"Take control over your tasks!\"),/*#__PURE__*/React.createElement(\"input\",{className:\"login-input\",value:this.state.email,onChange:this.handleEmailChange,placeholder:\"email\",type:\"text\"}),/*#__PURE__*/React.createElement(\"input\",{className:\"login-input\",value:this.state.login,onChange:this.handleLoginChange,placeholder:\"login\",type:\"text\"}),/*#__PURE__*/React.createElement(\"input\",{className:\"login-input\",value:this.state.pass,onChange:this.handlePassChange,placeholder:\"password\",type:\"password\"}),/*#__PURE__*/React.createElement(\"input\",{className:\"login-input\",value:this.state.confPass,onChange:this.handlePassRepeatChange,placeholder:\"confirm password\",type:\"password\"}),/*#__PURE__*/React.createElement(\"button\",{className:\"login-button\",onClick:this.handleRegister},\"Register\"),/*#__PURE__*/React.createElement(\"span\",{className:\"regErr\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"login-dot\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"register-hint\"},\"Password must be at least:\",/*#__PURE__*/React.createElement(\"br\",null),\"- 8 characters long\",/*#__PURE__*/React.createElement(\"br\",null),\"- 1 lowercase letter\",/*#__PURE__*/React.createElement(\"br\",null),\"- 1 capital letter\",/*#__PURE__*/React.createElement(\"br\",null),\"- 1 number\",/*#__PURE__*/React.createElement(\"br\",null),\"- 1 special character\",/*#__PURE__*/React.createElement(\"br\",null))),/*#__PURE__*/React.createElement(\"div\",{className:\"login-first\"},/*#__PURE__*/React.createElement(\"span\",{className:\"login-title\"},\"Nice to meet you!\"),/*#__PURE__*/React.createElement(\"span\",{className:\"login-subtitle\"},\"We are glad that you have become our new user!\"),/*#__PURE__*/React.createElement(\"span\",{className:\"login-subtitle\"},/*#__PURE__*/React.createElement(\"strong\",null,\"Log in\"),\" and create your first task\"),/*#__PURE__*/React.createElement(\"input\",{className:\"login-input\",value:this.state.email,onChange:this.handleEmailChange,placeholder:\"email\",type:\"text\"}),/*#__PURE__*/React.createElement(\"input\",{className:\"login-input\",value:this.state.pass,onChange:this.handlePassChange,placeholder:\"password\",type:\"password\"}),/*#__PURE__*/React.createElement(\"button\",{className:\"login-button\",onClick:this.handleLogin},\"Login\"),/*#__PURE__*/React.createElement(\"span\",{className:\"firstLogErr\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"startpage-mobile\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bgc-dots\"},/*#__PURE__*/React.createElement(\"div\",null),/*#__PURE__*/React.createElement(\"div\",null),/*#__PURE__*/React.createElement(\"div\",null),/*#__PURE__*/React.createElement(\"div\",null),/*#__PURE__*/React.createElement(\"div\",null)),/*#__PURE__*/React.createElement(\"div\",{className:\"login-bar\"},/*#__PURE__*/React.createElement(\"img\",{className:\"login-img\",src:login,alt:\"login\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"log\"},\"To\",/*#__PURE__*/React.createElement(\"span\",null,\"Do\"),\"App\")),/*#__PURE__*/React.createElement(\"span\",{className:\"login-title\"},\"Welcome!\"),/*#__PURE__*/React.createElement(\"span\",{className:\"login-subtitle\"},\"Take control over your tasks!\"),/*#__PURE__*/React.createElement(\"button\",{className:\"login-button\",onClick:this.handleTryBtn},\"Try without account\"),/*#__PURE__*/React.createElement(\"button\",{className:\"login-button\",onClick:this.handleLoginBtn},\"Log in\"),/*#__PURE__*/React.createElement(\"button\",{className:\"login-button\",onClick:this.handleRegisterBtn},\"Sign in\")));}}]);return TaskAdd;}(Component);export default TaskAdd;","map":{"version":3,"sources":["/Users/wojtek/Downloads/todo/client/src/components/TaskAdd.js"],"names":["React","Component","Fragment","Cookies","login","add","cookies","TaskAdd","getDate","time","Date","date","getFullYear","getMonth","state","title","priority","email","pass","confPass","handleLoginBtn","document","querySelector","style","display","handleRegisterBtn","handleTryBtn","handleTitleChange","e","setState","target","value","handleDateChange","handlePriorityChange","props","backgroundColor","handleEmailChange","handleLoginChange","handlePassChange","handlePassRepeatChange","handleSubmit","data","done","txt","innerHTML","t1","getTime","t2","t3","tasks","get","taskExist","map","task","push","set","name","window","location","reload","handleLogin","errField","errFField","length","innerText","match","fetch","method","headers","body","JSON","stringify","response","text","answer","info","user","handleRegister","innetText","addTaskMobileForm","x","matchMedia","matches","bind"],"mappings":"y4BAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,MAAOC,CAAAA,OAAP,KAAoB,kBAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,eAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,eAAhB,CACA,MAAO,gBAAP,CAEA,GAAMC,CAAAA,OAAO,CAAG,GAAIH,CAAAA,OAAJ,EAAhB,C,GAEMI,CAAAA,O,+TAEFC,O,CAAU,UAAM,CACZ,GAAMC,CAAAA,IAAI,CAAG,GAAIC,CAAAA,IAAJ,EAAb,CACA,GAAIC,CAAAA,IAAI,CAAGF,IAAI,CAACG,WAAL,GAAqB,GAAhC,CACA,GAAIH,IAAI,CAACI,QAAL,GAAkB,EAAtB,CAA0BF,IAAI,EAAI,GAAR,CAC1BA,IAAI,EAAIF,IAAI,CAACI,QAAL,GAAiB,CAAzB,CACAF,IAAI,EAAI,GAAR,CACA,GAAIF,IAAI,CAACD,OAAL,GAAiB,EAArB,CAAyBG,IAAI,EAAI,GAAR,CACzBA,IAAI,EAAIF,IAAI,CAACD,OAAL,EAAR,CACA,MAAOG,CAAAA,IAAP,CACH,C,OAEDG,K,CAAQ,CACJC,KAAK,CAAE,EADH,CAEJJ,IAAI,CAAE,MAAKH,OAAL,EAFF,CAGJQ,QAAQ,CAAE,CAHN,CAIJC,KAAK,CAAE,EAJH,CAKJb,KAAK,CAAE,EALH,CAMJc,IAAI,CAAE,EANF,CAOJC,QAAQ,CAAE,EAPN,C,OAURC,c,CAAiB,UAAM,CACnB,GAAIC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,EAAiCC,KAAjC,CAAuCC,OAAvC,GAAmD,OAAvD,CACA,CACIH,QAAQ,CAACC,aAAT,CAAuB,QAAvB,EAAiCC,KAAjC,CAAuCC,OAAvC,CAAiD,MAAjD,CACAH,QAAQ,CAACC,aAAT,CAAuB,WAAvB,EAAoCC,KAApC,CAA0CC,OAA1C,CAAoD,MAApD,CACAH,QAAQ,CAACC,aAAT,CAAuB,cAAvB,EAAuCC,KAAvC,CAA6CC,OAA7C,CAAuD,MAAvD,CACAH,QAAQ,CAACC,aAAT,CAAuB,mBAAvB,EAA4CC,KAA5C,CAAkDC,OAAlD,CAA4D,MAA5D,CACH,CAND,IAQK,CACDH,QAAQ,CAACC,aAAT,CAAuB,QAAvB,EAAiCC,KAAjC,CAAuCC,OAAvC,CAAiD,OAAjD,CACAH,QAAQ,CAACC,aAAT,CAAuB,WAAvB,EAAoCC,KAApC,CAA0CC,OAA1C,CAAoD,MAApD,CACAH,QAAQ,CAACC,aAAT,CAAuB,cAAvB,EAAuCC,KAAvC,CAA6CC,OAA7C,CAAuD,MAAvD,CACAH,QAAQ,CAACC,aAAT,CAAuB,mBAAvB,EAA4CC,KAA5C,CAAkDC,OAAlD,CAA4D,MAA5D,CACH,CAEJ,C,OAEDC,iB,CAAoB,UAAM,CACtBJ,QAAQ,CAACC,aAAT,CAAuB,QAAvB,EAAiCC,KAAjC,CAAuCC,OAAvC,CAAiD,MAAjD,CACAH,QAAQ,CAACC,aAAT,CAAuB,WAAvB,EAAoCC,KAApC,CAA0CC,OAA1C,CAAoD,OAApD,CACAH,QAAQ,CAACC,aAAT,CAAuB,cAAvB,EAAuCC,KAAvC,CAA6CC,OAA7C,CAAuD,MAAvD,CACAH,QAAQ,CAACC,aAAT,CAAuB,mBAAvB,EAA4CC,KAA5C,CAAkDC,OAAlD,CAA4D,MAA5D,CACH,C,OAEDE,Y,CAAe,UAAM,CACjBL,QAAQ,CAACC,aAAT,CAAuB,mBAAvB,EAA4CC,KAA5C,CAAkDC,OAAlD,CAA4D,MAA5D,CACH,C,OAEDG,iB,CAAoB,SAAAC,CAAC,CAAI,CACrB,MAAKC,QAAL,CAAc,CACVd,KAAK,CAAEa,CAAC,CAACE,MAAF,CAASC,KADN,CAAd,EAGH,C,OAEDC,gB,CAAmB,SAAAJ,CAAC,CAAI,CACpB,MAAKC,QAAL,CAAc,CACVlB,IAAI,CAAEiB,CAAC,CAACE,MAAF,CAASC,KADL,CAAd,EAGH,C,OAEDE,oB,CAAuB,SAAAC,KAAK,CAAI,CAC5Bb,QAAQ,CAACC,aAAT,CAAuB,qBAAvB,EAA8CC,KAA9C,CAAoDY,eAApD,CAAsE,eAAtE,CACAd,QAAQ,CAACC,aAAT,CAAuB,qBAAvB,EAA8CC,KAA9C,CAAoDY,eAApD,CAAsE,eAAtE,CACAd,QAAQ,CAACC,aAAT,CAAuB,oBAAvB,EAA6CC,KAA7C,CAAmDY,eAAnD,CAAqE,eAArE,CACA,GAAID,KAAK,GAAK,CAAd,CAAiBb,QAAQ,CAACC,aAAT,CAAuB,qBAAvB,EAA8CC,KAA9C,CAAoDY,eAApD,CAAsE,SAAtE,CAAjB,IACK,IAAID,KAAK,GAAK,CAAd,CAAiBb,QAAQ,CAACC,aAAT,CAAuB,qBAAvB,EAA8CC,KAA9C,CAAoDY,eAApD,CAAsE,SAAtE,CAAjB,IACA,IAAID,KAAK,GAAK,CAAd,CAAiBb,QAAQ,CAACC,aAAT,CAAuB,oBAAvB,EAA6CC,KAA7C,CAAmDY,eAAnD,CAAqE,SAArE,CAEtB,MAAKN,QAAL,CAAc,CACVb,QAAQ,CAAEkB,KADA,CAAd,EAGH,C,OAEDE,iB,CAAoB,SAAAR,CAAC,CAAI,CACrB,MAAKC,QAAL,CAAc,CACVZ,KAAK,CAAEW,CAAC,CAACE,MAAF,CAASC,KADN,CAAd,EAGH,C,OAEDM,iB,CAAoB,SAAAT,CAAC,CAAI,CACrB,MAAKC,QAAL,CAAc,CACVzB,KAAK,CAAEwB,CAAC,CAACE,MAAF,CAAS1B,KADN,CAAd,EAGH,C,OAEDkC,gB,CAAmB,SAAAV,CAAC,CAAI,CACpB,MAAKC,QAAL,CAAc,CACVX,IAAI,CAAEU,CAAC,CAACE,MAAF,CAASC,KADL,CAAd,EAGH,C,OAEDQ,sB,CAAyB,SAAAX,CAAC,CAAI,CAC1B,MAAKC,QAAL,CAAc,CACVV,QAAQ,CAAES,CAAC,CAACE,MAAF,CAASC,KADT,CAAd,EAGH,C,OAEDS,Y,CAAe,UAAM,CACjB,GAAMC,CAAAA,IAAI,CAAG,CACT1B,KAAK,CAAE,MAAKD,KAAL,CAAWC,KADT,CAETJ,IAAI,CAAE,MAAKG,KAAL,CAAWH,IAFR,CAGTK,QAAQ,CAAE,MAAKF,KAAL,CAAWE,QAHZ,CAIT0B,IAAI,CAAE,KAJG,CAAb,CAOA,GAAMC,CAAAA,GAAG,CAAGtB,QAAQ,CAACC,aAAT,CAAuB,SAAvB,CAAZ,CACAqB,GAAG,CAACC,SAAJ,CAAgB,EAAhB,CACA,GAAIH,IAAI,CAAC1B,KAAL,CAAa,CAAjB,CAAoB4B,GAAG,CAACC,SAAJ,CAAgB,oCAAhB,CAApB,IAEK,CACD,GAAMC,CAAAA,EAAE,CAAG,GAAInC,CAAAA,IAAJ,GAAWoC,OAAX,EAAX,CACA,GAAMC,CAAAA,EAAE,CAAG,GAAIrC,CAAAA,IAAJ,CAAS+B,IAAI,CAAC9B,IAAd,EAAoBmC,OAApB,EAAX,CACA,GAAME,CAAAA,EAAE,CAAGD,EAAE,CAACF,EAAH,CAAQ,QAAnB,CACA,GAAIG,EAAE,CAAG,CAAT,CAAYL,GAAG,CAACC,SAAJ,CAAgB,+BAAhB,CAAZ,IAEK,CACD,GAAIK,CAAAA,KAAK,CAAG3C,OAAO,CAAC4C,GAAR,CAAY,OAAZ,GAAwB,EAApC,CACA,GAAIC,CAAAA,SAAS,CAAG,KAAhB,CACAF,KAAK,CAACG,GAAN,CAAU,SAAAC,IAAI,CAAI,CACd,GAAIA,IAAI,CAACtC,KAAL,GAAe0B,IAAI,CAAC1B,KAAxB,CAA+B,CAC3B4B,GAAG,CAACC,SAAJ,CAAgB,qCAAhB,CACAO,SAAS,CAAG,IAAZ,CACC,CACJ,CALL,EAMI,GAAIA,SAAS,GAAK,KAAlB,CAAyB,CACrBF,KAAK,CAACK,IAAN,CAAWb,IAAX,EACAnC,OAAO,CAACiD,GAAR,CAAY,OAAZ,CAAqBN,KAArB,EACA,MAAKpB,QAAL,CAAc,CACV2B,IAAI,CAAE,EADI,CAEV7C,IAAI,CAAE,MAAKH,OAAL,EAFI,CAAd,EAIAmC,GAAG,CAACC,SAAJ,CAAgB,EAAhB,CACAa,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACH,CACR,CACJ,CACJ,C,OAEDC,W,0FAAc,iBAAMhC,CAAN,oKACJX,KADI,CACI,MAAKH,KAAL,CAAWG,KADf,CAEJC,IAFI,CAEG,MAAKJ,KAAL,CAAWI,IAFd,CAGJ2C,QAHI,CAGOxC,QAAQ,CAACC,aAAT,CAAuB,SAAvB,CAHP,CAIJwC,SAJI,CAIQzC,QAAQ,CAACC,aAAT,CAAuB,cAAvB,CAJR,MAMNL,KAAK,CAAC8C,MAAN,CAAe,CANT,0BAONF,QAAQ,CAACG,SAAT,CAAqB,kBAArB,CACAF,SAAS,CAACE,SAAV,CAAsB,kBAAtB,CARM,iCAWA/C,KAAK,CAACgD,KAAN,CAAY,sCAAZ,CAXA,0BAYNJ,QAAQ,CAACG,SAAT,CAAqB,kBAArB,CACAF,SAAS,CAACE,SAAV,CAAsB,kBAAtB,CAbM,kCAgBA9C,IAAI,CAAC+C,KAAL,CAAW,oEAAX,CAhBA,0BAiBNJ,QAAQ,CAACG,SAAT,CAAqB,oBAArB,CACAF,SAAS,CAACE,SAAV,CAAsB,oBAAtB,CAlBM,+BAsBN,MAAKnC,QAAL,CAAc,CACVZ,KAAK,CAAE,EADG,CAEVC,IAAI,CAAE,EAFI,CAAd,EAIA2C,QAAQ,CAACG,SAAT,CAAqB,EAArB,CACAF,SAAS,CAACE,SAAV,CAAsB,EAAtB,CA3BM,uBA6BiBE,CAAAA,KAAK,CAAC,QAAD,CAAW,CACnCC,MAAM,CAAE,MAD2B,CAEnCC,OAAO,CAAE,CACT,eAAgB,kBADP,CAF0B,CAKnCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEtD,KAAK,CAALA,KAAF,CAASC,IAAI,CAAJA,IAAT,CAAf,CAL6B,CAAX,CA7BtB,SA6BAsD,QA7BA,sCAqCaA,CAAAA,QAAQ,CAACC,IAAT,EArCb,SAqCFC,MArCE,eAsCN;AACAb,QAAQ,CAACG,SAAT,CAAqBU,MAAM,CAACC,IAA5B,CACArE,OAAO,CAACiD,GAAR,CAAY,MAAZ,CAAoBmB,MAAM,CAACE,IAA3B,EACA,GAAIF,MAAM,CAACzB,KAAX,CAAkB3C,OAAO,CAACiD,GAAR,CAAY,OAAZ,CAAqBmB,MAAM,CAACzB,KAA5B,EAClB;AA1CM,uD,qEA8Cd4B,c,2FAAiB,kBAAMjD,CAAN,6KACPX,KADO,CACC,MAAKH,KAAL,CAAWG,KADZ,CAEPb,KAFO,CAEC,MAAKU,KAAL,CAAWV,KAFZ,CAGPc,IAHO,CAGA,MAAKJ,KAAL,CAAWI,IAHX,CAIPC,QAJO,CAII,MAAKL,KAAL,CAAWK,QAJf,CAKP0C,QALO,CAKIxC,QAAQ,CAACC,aAAT,CAAuB,SAAvB,CALJ,MAOTL,KAAK,CAAC8C,MAAN,CAAe,CAPN,2BAOSF,QAAQ,CAACG,SAAT,CAAqB,kBAArB,CAPT,oCASJ5D,KAAK,CAAC2D,MAAN,CAAe,CATX,4BAScF,QAAQ,CAACG,SAAT,CAAqB,kBAArB,CATd,qCAWJ9C,IAAI,GAAKC,QAXL,4BAWe0C,QAAQ,CAACG,SAAT,CAAqB,6BAArB,CAXf,mCAaH/C,KAAK,CAACgD,KAAN,CAAY,sCAAZ,CAbG,2BAakDJ,QAAQ,CAACG,SAAT,CAAqB,kBAArB,CAblD,mCAeH9C,IAAI,CAAC+C,KAAL,CAAW,oEAAX,CAfG,2BAe+EJ,QAAQ,CAACG,SAAT,CAAqB,qBAArB,CAf/E,gCAkBT,MAAKnC,QAAL,CAAc,CACVZ,KAAK,CAAE,EADG,CAEVb,KAAK,CAAE,EAFG,CAGVc,IAAI,CAAE,EAHI,CAIVC,QAAQ,CAAE,EAJA,CAAd,EAMA0C,QAAQ,CAACiB,SAAT,CAAqB,EAArB,CAxBS,wBAyBcZ,CAAAA,KAAK,CAAC,WAAD,CAAc,CACtCC,MAAM,CAAE,MAD8B,CAEtCC,OAAO,CAAE,CACT,eAAgB,kBADP,CAF6B,CAKtCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEtD,KAAK,CAALA,KAAF,CAASb,KAAK,CAALA,KAAT,CAAgBc,IAAI,CAAJA,IAAhB,CAAf,CALgC,CAAd,CAzBnB,SAyBHsD,QAzBG,wCAgCYA,CAAAA,QAAQ,CAACC,IAAT,EAhCZ,SAgCHC,MAhCG,gBAiCTb,QAAQ,CAACG,SAAT,CAAqBU,MAArB,CAjCS,yD,uEAqCjBK,iB,CAAoB,UAAM,CACtB,GAAMC,CAAAA,CAAC,CAAGvB,MAAM,CAACwB,UAAP,CAAkB,qBAAlB,CAAV,CACA,GAAID,CAAC,CAACE,OAAN,CAAe,CACX,GAAI7D,QAAQ,CAACC,aAAT,CAAuB,cAAvB,EAAuCC,KAAvC,CAA6CC,OAA7C,GAAyD,OAA7D,CACAH,QAAQ,CAACC,aAAT,CAAuB,cAAvB,EAAuCC,KAAvC,CAA6CC,OAA7C,CAAuD,MAAvD,CADA,IAEKH,CAAAA,QAAQ,CAACC,aAAT,CAAuB,cAAvB,EAAuCC,KAAvC,CAA6CC,OAA7C,CAAuD,OAAvD,CACR,CACJ,C,gGAEmB,CAChB,KAAKS,oBAAL,CAA0B,KAAKnB,KAAL,CAAWE,QAArC,EACA,GAAMgE,CAAAA,CAAC,CAAGvB,MAAM,CAACwB,UAAP,CAAkB,qBAAlB,CAAV,CACA,GAAID,CAAC,CAACE,OAAN,CAAe,CACX,GAAI5E,OAAO,CAAC4C,GAAR,CAAY,OAAZ,CAAJ,CAA0B7B,QAAQ,CAACC,aAAT,CAAuB,mBAAvB,EAA4CC,KAA5C,CAAkDC,OAAlD,CAA4D,MAA5D,CAA1B,IACKlB,CAAAA,OAAO,CAACiD,GAAR,CAAY,OAAZ,CAAqB,IAArB,EACR,CAHD,IAIKlC,CAAAA,QAAQ,CAACC,aAAT,CAAuB,cAAvB,EAAuCC,KAAvC,CAA6CC,OAA7C,CAAuD,OAAvD,CACR,C,uCAES,CACV,mBACI,oBAAC,QAAD,mBACI,2BAAK,SAAS,CAAC,WAAf,CAA2B,OAAO,CAAE,KAAKJ,cAAzC,eACI,2BAAK,SAAS,CAAC,WAAf,CAA2B,GAAG,CAAEhB,KAAhC,CAAuC,GAAG,CAAC,OAA3C,EADJ,cAEI,2BAAK,SAAS,CAAC,KAAf,WAFJ,CADJ,cAKI,2BAAK,SAAS,CAAC,cAAf,eACI,2BAAK,SAAS,CAAC,YAAf,SADJ,cAEI,4BAAM,SAAS,CAAC,eAAhB,CAAgC,OAAO,CAAE,KAAK2E,iBAA9C,iBAFJ,cAGI,2BAAK,SAAS,CAAC,aAAf,eACI,6BAAO,KAAK,CAAE,KAAKjE,KAAL,CAAWC,KAAzB,CAAgC,QAAQ,CAAE,KAAKY,iBAA/C,CAAkE,WAAW,CAAC,OAA9E,CAAsF,IAAI,CAAC,MAA3F,EADJ,cAEI,6BAAO,KAAK,CAAE,KAAKb,KAAL,CAAWH,IAAzB,CAA+B,QAAQ,CAAE,KAAKqB,gBAA9C,CAAgE,WAAW,CAAC,MAA5E,CAAmF,IAAI,CAAC,MAAxF,EAFJ,cAGI,2BAAK,SAAS,CAAC,gBAAf,eACA,4CADA,cAEI,4BAAM,SAAS,CAAC,gBAAhB,CAAiC,OAAO,CAAE,KAAKC,oBAAL,CAA0BkD,IAA1B,CAA+B,IAA/B,CAAqC,CAArC,CAA1C,eAAmF,4BAAM,SAAS,CAAC,oBAAhB,EAAnF,OAFJ,cAGI,4BAAM,SAAS,CAAC,gBAAhB,CAAiC,OAAO,CAAE,KAAKlD,oBAAL,CAA0BkD,IAA1B,CAA+B,IAA/B,CAAqC,CAArC,CAA1C,eAAmF,4BAAM,SAAS,CAAC,oBAAhB,EAAnF,UAHJ,cAII,4BAAM,SAAS,CAAC,gBAAhB,CAAiC,OAAO,CAAE,KAAKlD,oBAAL,CAA0BkD,IAA1B,CAA+B,IAA/B,CAAqC,CAArC,CAA1C,eAAmF,4BAAM,SAAS,CAAC,mBAAhB,EAAnF,QAJJ,CAHJ,cASI,2BAAK,SAAS,CAAC,SAAf,CAAyB,OAAO,CAAE,KAAK3C,YAAvC,CAAqD,GAAG,CAAEnC,GAA1D,CAA+D,GAAG,CAAC,KAAnE,EATJ,cAUI,4BAAM,SAAS,CAAC,QAAhB,EAVJ,CAHJ,cAeI,2BAAK,SAAS,CAAC,OAAf,eACI,4BAAM,SAAS,CAAC,aAAhB,kBADJ,cAEI,4BAAM,SAAS,CAAC,gBAAhB,wCAFJ,cAGI,6BAAO,SAAS,CAAC,aAAjB,CAA+B,KAAK,CAAE,KAAKS,KAAL,CAAWG,KAAjD,CAAwD,QAAQ,CAAE,KAAKmB,iBAAvE,CAA0F,WAAW,CAAC,OAAtG,CAA8G,IAAI,CAAC,MAAnH,EAHJ,cAII,6BAAO,SAAS,CAAC,aAAjB,CAA+B,KAAK,CAAE,KAAKtB,KAAL,CAAWI,IAAjD,CAAuD,QAAQ,CAAE,KAAKoB,gBAAtE,CAAwF,WAAW,CAAC,UAApG,CAA+G,IAAI,CAAC,UAApH,EAJJ,cAKI,8BAAQ,SAAS,CAAC,cAAlB,CAAiC,OAAO,CAAE,KAAKsB,WAA/C,UALJ,cAMI,4BAAM,SAAS,CAAC,cAAhB,8CAAsD,8BAAtD,cAA2D,8BAAQ,OAAO,CAAE,KAAKnC,iBAAtB,mBAA3D,CANJ,cAOI,4BAAM,SAAS,CAAC,QAAhB,EAPJ,cAQI,4BAAM,SAAS,CAAC,WAAhB,EARJ,CAfJ,cAyBI,2BAAK,SAAS,CAAC,UAAf,eACI,4BAAM,SAAS,CAAC,aAAhB,aADJ,cAEI,4BAAM,SAAS,CAAC,gBAAhB,kCAFJ,cAGI,6BAAO,SAAS,CAAC,aAAjB,CAA+B,KAAK,CAAE,KAAKX,KAAL,CAAWG,KAAjD,CAAwD,QAAQ,CAAE,KAAKmB,iBAAvE,CAA0F,WAAW,CAAC,OAAtG,CAA8G,IAAI,CAAC,MAAnH,EAHJ,cAII,6BAAO,SAAS,CAAC,aAAjB,CAA+B,KAAK,CAAE,KAAKtB,KAAL,CAAWV,KAAjD,CAAwD,QAAQ,CAAE,KAAKiC,iBAAvE,CAA0F,WAAW,CAAC,OAAtG,CAA8G,IAAI,CAAC,MAAnH,EAJJ,cAKI,6BAAO,SAAS,CAAC,aAAjB,CAA+B,KAAK,CAAE,KAAKvB,KAAL,CAAWI,IAAjD,CAAuD,QAAQ,CAAE,KAAKoB,gBAAtE,CAAwF,WAAW,CAAC,UAApG,CAA+G,IAAI,CAAC,UAApH,EALJ,cAMI,6BAAO,SAAS,CAAC,aAAjB,CAA+B,KAAK,CAAE,KAAKxB,KAAL,CAAWK,QAAjD,CAA2D,QAAQ,CAAE,KAAKoB,sBAA1E,CAAkG,WAAW,CAAC,kBAA9G,CAAiI,IAAI,CAAC,UAAtI,EANJ,cAOI,8BAAQ,SAAS,CAAC,cAAlB,CAAiC,OAAO,CAAE,KAAKsC,cAA/C,aAPJ,cAQI,4BAAM,SAAS,CAAC,QAAhB,EARJ,cASI,4BAAM,SAAS,CAAC,WAAhB,EATJ,cAUI,4BAAM,SAAS,CAAC,eAAhB,4CAC8B,8BAD9B,oCAEuB,8BAFvB,qCAGwB,8BAHxB,mCAIsB,8BAJtB,2BAKc,8BALd,sCAMyB,8BANzB,CAVJ,CAzBJ,cA4CI,2BAAK,SAAS,CAAC,aAAf,eACI,4BAAM,SAAS,CAAC,aAAhB,sBADJ,cAEI,4BAAM,SAAS,CAAC,gBAAhB,mDAFJ,cAGI,4BAAM,SAAS,CAAC,gBAAhB,eAAiC,2CAAjC,+BAHJ,cAII,6BAAO,SAAS,CAAC,aAAjB,CAA+B,KAAK,CAAE,KAAK/D,KAAL,CAAWG,KAAjD,CAAwD,QAAQ,CAAE,KAAKmB,iBAAvE,CAA0F,WAAW,CAAC,OAAtG,CAA8G,IAAI,CAAC,MAAnH,EAJJ,cAKI,6BAAO,SAAS,CAAC,aAAjB,CAA+B,KAAK,CAAE,KAAKtB,KAAL,CAAWI,IAAjD,CAAuD,QAAQ,CAAE,KAAKoB,gBAAtE,CAAwF,WAAW,CAAC,UAApG,CAA+G,IAAI,CAAC,UAApH,EALJ,cAMI,8BAAQ,SAAS,CAAC,cAAlB,CAAiC,OAAO,CAAE,KAAKsB,WAA/C,UANJ,cAOI,4BAAM,SAAS,CAAC,aAAhB,EAPJ,CA5CJ,CALJ,cA2DI,2BAAK,SAAS,CAAC,kBAAf,eACI,2BAAK,SAAS,CAAC,UAAf,eACI,+BADJ,cAEI,+BAFJ,cAGI,+BAHJ,cAII,+BAJJ,cAKI,+BALJ,CADJ,cAQI,2BAAK,SAAS,CAAC,WAAf,eACI,2BAAK,SAAS,CAAC,WAAf,CAA2B,GAAG,CAAExD,KAAhC,CAAuC,GAAG,CAAC,OAA3C,EADJ,cAEI,2BAAK,SAAS,CAAC,KAAf,oBAAuB,qCAAvB,OAFJ,CARJ,cAYI,4BAAM,SAAS,CAAC,aAAhB,aAZJ,cAaI,4BAAM,SAAS,CAAC,gBAAhB,kCAbJ,cAcI,8BAAQ,SAAS,CAAC,cAAlB,CAAiC,OAAO,CAAE,KAAKsB,YAA/C,wBAdJ,cAeI,8BAAQ,SAAS,CAAC,cAAlB,CAAiC,OAAO,CAAE,KAAKN,cAA/C,WAfJ,cAgBI,8BAAQ,SAAS,CAAC,cAAlB,CAAiC,OAAO,CAAE,KAAKK,iBAA/C,YAhBJ,CA3DJ,CADJ,CA+EE,C,qBApUgBxB,S,EAuUtB,cAAeM,CAAAA,OAAf","sourcesContent":["import React, {Component, Fragment} from 'react'\nimport Cookies from 'universal-cookie'\nimport login from './img/log.png'\nimport add from './img/add.png'\nimport './TaskAdd.sass'\n\nconst cookies = new Cookies()\n\nclass TaskAdd extends Component {\n\n    getDate = () => {\n        const time = new Date()\n        let date = time.getFullYear() + '-'\n        if (time.getMonth() < 10) date += '0'\n        date += time.getMonth() +1\n        date += '-'\n        if (time.getDate() < 10) date += '0'\n        date += time.getDate()\n        return date\n    }\n\n    state = {\n        title: '',\n        date: this.getDate(),\n        priority: 1,\n        email: '',\n        login: '',\n        pass: '',\n        confPass: '',\n    }\n\n    handleLoginBtn = () => {\n        if (document.querySelector('.login').style.display === 'block')\n        {\n            document.querySelector('.login').style.display = 'none'\n            document.querySelector('.register').style.display = 'none'\n            document.querySelector('.login-first').style.display = 'none'\n            document.querySelector('.startpage-mobile').style.display = 'none'\n        }\n\n        else {\n            document.querySelector('.login').style.display = 'block'\n            document.querySelector('.register').style.display = 'none'\n            document.querySelector('.login-first').style.display = 'none'\n            document.querySelector('.startpage-mobile').style.display = 'none'\n        }\n        \n    }\n\n    handleRegisterBtn = () => {\n        document.querySelector('.login').style.display = 'none'\n        document.querySelector('.register').style.display = 'block'\n        document.querySelector('.login-first').style.display = 'none'\n        document.querySelector('.startpage-mobile').style.display = 'none'\n    }\n\n    handleTryBtn = () => {\n        document.querySelector('.startpage-mobile').style.display = 'none'\n    }\n\n    handleTitleChange = e => {\n        this.setState({\n            title: e.target.value\n        })\n    }\n\n    handleDateChange = e => {\n        this.setState({\n            date: e.target.value\n        })\n    }\n\n    handlePriorityChange = props => {\n        document.querySelector('.priorityCircleGrey').style.backgroundColor = 'rgba(0,0,0,0)'\n        document.querySelector('.priorityCircleBlue').style.backgroundColor = 'rgba(0,0,0,0)'\n        document.querySelector('.priorityCircleRed').style.backgroundColor = 'rgba(0,0,0,0)'\n        if (props === 1) document.querySelector('.priorityCircleGrey').style.backgroundColor = '#8D8D8D'\n        else if (props === 2) document.querySelector('.priorityCircleBlue').style.backgroundColor = '#4D57FF'\n        else if (props === 3) document.querySelector('.priorityCircleRed').style.backgroundColor = '#FF5E5A'\n\n        this.setState({\n            priority: props\n        })\n    }\n\n    handleEmailChange = e => {\n        this.setState({\n            email: e.target.value\n        })\n    }\n\n    handleLoginChange = e => {\n        this.setState({\n            login: e.target.login\n        })\n    }\n\n    handlePassChange = e => {\n        this.setState({\n            pass: e.target.value\n        })\n    }\n\n    handlePassRepeatChange = e => {\n        this.setState({\n            confPass: e.target.value\n        })\n    }\n\n    handleSubmit = () => {\n        const data = {\n            title: this.state.title, \n            date: this.state.date, \n            priority: this.state.priority,\n            done: false\n        }\n\n        const txt = document.querySelector('.addErr')\n        txt.innerHTML = ''\n        if (data.title < 3) txt.innerHTML = 'Task must have at least 3 letters!'\n\n        else {\n            const t1 = new Date().getTime()\n            const t2 = new Date(data.date).getTime()\n            const t3 = t2-t1 + 86400000\n            if (t3 < 0) txt.innerHTML = 'Date cannot be from the past!'\n\n            else {\n                let tasks = cookies.get('tasks') || []\n                let taskExist = false\n                tasks.map(task => {\n                    if (task.title === data.title) {\n                        txt.innerHTML = 'Task with such name already exists!'\n                        taskExist = true\n                        }   \n                    })\n                    if (taskExist === false) {\n                        tasks.push(data)\n                        cookies.set('tasks', tasks)\n                        this.setState({\n                            name: '',\n                            date: this.getDate(),\n                        })\n                        txt.innerHTML = ''\n                        window.location.reload()\n                    }\n            }\n        }\n    }\n\n    handleLogin = async e => {\n        const email = this.state.email\n        const pass = this.state.pass\n        const errField = document.querySelector('.logErr')\n        const errFField = document.querySelector('.firstLogErr')\n    \n        if (email.length < 6) {\n            errField.innerText = 'Too short email!'\n            errFField.innerText = 'Too short email!'\n        }\n\n        else if (!email.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i)) {\n            errField.innerText = 'Incorrect email!'\n            errFField.innerText = 'Incorrect email!'\n        }\n    \n        else if (!pass.match(/^(?=.*[\\d])(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*])[\\w!@#$%^&*]{8,}$/)) {\n            errField.innerText = 'Incorrect password'\n            errFField.innerText = 'Incorrect password'\n        }\n    \n        else {\n            this.setState({\n                email: '',\n                pass: '',\n        })\n            errField.innerText = ''\n            errFField.innerText = ''\n\n            const response = await fetch('/login', {\n                method: 'POST',\n                headers: {\n                'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({ email, pass }),\n            })\n    \n            let answer = await response.text()\n            // answer = JSON.parse(answer)\n            errField.innerText = answer.info\n            cookies.set('user', answer.user)\n            if (answer.tasks) cookies.set('tasks', answer.tasks)\n            // window.location.reload(false)\n        }\n    }\n\n    handleRegister = async e => {\n        const email = this.state.email\n        const login = this.state.login\n        const pass = this.state.pass\n        const confPass = this.state.confPass\n        const errField = document.querySelector('.regErr')\n    \n        if (email.length < 6) errField.innerText = 'Too short email!'\n\n        else if (login.length < 6) errField.innerText = 'Too short login!'\n\n        else if (pass !== confPass) errField.innerText = 'Passwords are not the same!'\n\n        else if (!email.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i)) errField.innerText = 'Incorrect email!'\n    \n        else if (!pass.match(/^(?=.*[\\d])(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*])[\\w!@#$%^&*]{8,}$/)) errField.innerText = 'Incorrect password!'\n    \n        else {\n            this.setState({\n                email: '',\n                login: '',\n                pass: '',\n                confPass: '',\n            })\n            errField.innetText = ''\n            const response = await fetch('/register', {\n                method: 'POST',\n                headers: {\n                'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({ email, login, pass }),\n            })\n            const answer = await response.text();\n            errField.innerText = answer\n        }\n    }   \n\n    addTaskMobileForm = () => {\n        const x = window.matchMedia('(max-width: 1023px)')\n        if (x.matches) {\n            if (document.querySelector('.newTaskForm').style.display === 'block')\n            document.querySelector('.newTaskForm').style.display = 'none'\n            else document.querySelector('.newTaskForm').style.display = 'block'\n        }\n    }\n\n    componentDidMount() {\n        this.handlePriorityChange(this.state.priority)\n        const x = window.matchMedia('(max-width: 1023px)')\n        if (x.matches) {\n            if (cookies.get('start')) document.querySelector('.startpage-mobile').style.display = 'none'\n            else cookies.set('start', true)\n        }\n        else document.querySelector('.newTaskForm').style.display = 'block'\n    }\n    \n    render () {\n    return (\n        <Fragment>\n            <div className='login-bar' onClick={this.handleLoginBtn}>\n                <img className='login-img' src={login} alt='login' />\n                <div className='log'>Log in</div>\n            </div>\n            <div className='taskAddPanel'>\n                <div className='userHeader'>Hey!</div>\n                <span className='newTaskHeader' onClick={this.addTaskMobileForm}>Add new task</span>\n                <div className='newTaskForm'>\n                    <input value={this.state.title} onChange={this.handleTitleChange} placeholder='title' type='text' />\n                    <input value={this.state.date} onChange={this.handleDateChange} placeholder='date' type='date' />\n                    <div className='priorityChoose'>\n                    <span>Priority:</span>\n                        <span className='priorityOption' onClick={this.handlePriorityChange.bind(this, 1)}><span className='priorityCircleGrey'></span>Low</span>\n                        <span className='priorityOption' onClick={this.handlePriorityChange.bind(this, 2)}><span className='priorityCircleBlue'></span>Medium</span>\n                        <span className='priorityOption' onClick={this.handlePriorityChange.bind(this, 3)}><span className='priorityCircleRed'></span>High</span>\n                    </div>\n                    <img className='addTask' onClick={this.handleSubmit} src={add} alt='add'/>\n                    <span className='addErr'></span>\n                </div>\n                <div className='login'>\n                    <span className='login-title'>Welcome back.</span>\n                    <span className='login-subtitle'>It is really nice to see you again!</span>\n                    <input className='login-input' value={this.state.email} onChange={this.handleEmailChange} placeholder='email' type='text' />\n                    <input className='login-input' value={this.state.pass} onChange={this.handlePassChange} placeholder='password' type='password' />\n                    <button className='login-button' onClick={this.handleLogin}>Login</button>\n                    <span className='login-create'>Don’t have an account? <br/><strong onClick={this.handleRegisterBtn}>Create Account</strong></span>\n                    <span className='logErr'></span>\n                    <span className='login-dot'></span>\n                </div>\n                <div className='register'>\n                    <span className='login-title'>Join us!</span>\n                    <span className='login-subtitle'>Take control over your tasks!</span>\n                    <input className='login-input' value={this.state.email} onChange={this.handleEmailChange} placeholder='email' type='text' />\n                    <input className='login-input' value={this.state.login} onChange={this.handleLoginChange} placeholder='login' type='text' />\n                    <input className='login-input' value={this.state.pass} onChange={this.handlePassChange} placeholder='password' type='password' />\n                    <input className='login-input' value={this.state.confPass} onChange={this.handlePassRepeatChange} placeholder='confirm password' type='password' />\n                    <button className='login-button' onClick={this.handleRegister}>Register</button>\n                    <span className='regErr'></span>\n                    <span className='login-dot'></span>\n                    <span className='register-hint'>\n                        Password must be at least:<br/>\n                        - 8 characters long<br/>\n                        - 1 lowercase letter<br/>\n                        - 1 capital letter<br/>\n                        - 1 number<br/>\n                        - 1 special character<br/>\n                    </span>\n                </div>\n                <div className='login-first'>\n                    <span className='login-title'>Nice to meet you!</span>\n                    <span className='login-subtitle'>We are glad that you have become our new user!</span>\n                    <span className='login-subtitle'><strong>Log in</strong> and create your first task</span>\n                    <input className='login-input' value={this.state.email} onChange={this.handleEmailChange} placeholder='email' type='text' />\n                    <input className='login-input' value={this.state.pass} onChange={this.handlePassChange} placeholder='password' type='password' />\n                    <button className='login-button' onClick={this.handleLogin}>Login</button>\n                    <span className='firstLogErr'></span>\n                </div>\n            </div>\n            <div className='startpage-mobile'>\n                <div className='bgc-dots'>\n                    <div></div>\n                    <div></div>\n                    <div></div>\n                    <div></div>\n                    <div></div>\n                </div>\n                <div className='login-bar'>\n                    <img className='login-img' src={login} alt='login' />\n                    <div className='log'>To<span>Do</span>App</div>\n                </div>\n                <span className='login-title'>Welcome!</span>\n                <span className='login-subtitle'>Take control over your tasks!</span>\n                <button className='login-button' onClick={this.handleTryBtn}>Try without account</button>\n                <button className='login-button' onClick={this.handleLoginBtn}>Log in</button>\n                <button className='login-button' onClick={this.handleRegisterBtn}>Sign in</button>\n            </div>\n        </Fragment>\n    )}\n}\n\nexport default TaskAdd"]},"metadata":{},"sourceType":"module"}